# function: my_history
#
# This function is a wrapper for the built-in history command that
# that copies the functionality of the omz_history function.
#
# Usage:
#   my_history [options] [command]
#
# Options:
#   -c  Clear the history file

local clear list stamp REPLY
zparseopts -E -D c=clear l=list f=stamp E=stamp i=stamp t:=stamp

if [[ -n "$clear" ]]; then
  print -nu2 "This action will irreversibly delete your command history. Are you sure? [y/N] "
  builtin read -E
  [[ "$REPLY" = [yY] ]] || return 0
  print -nu2 >| "$HISTFILE"
  fc -p "$HISTFILE"
  print -u2 "History file deleted."
elif [[ $# -eq 0 ]]; then
  builtin fc "${stamp[@]}" -l 1
else
  builtin fc "${stamp[@]}" -l "$@"
fi
